<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>拖拽</title>
    <style>
        #div1{
            width:100px;
            height:100px;
            background:red;
            position: absolute;
            left:0;
            top:0;
        }
    </style>

    <script>

        window.onload=function () {

           var odiv  = document.getElementById('div1');
            document.onmousedown=function (ev) {

                var oEvent = ev.event ||event;
                var disx = 0;
                var disy = 0;

                disx =oEvent.clientX -odiv.offsetLeft;
                disy =oEvent.clientY -odiv.offsetTop;

                document.onmousemove = function (ev) {
                    var oEvent = ev.event ||event;

              var lx = oEvent.clientX - disx;
                    var ly = oEvent.clientY - disy;
                    if(lx < 0){
                        lx= 0
                    }else if(lx >(document.documentElement.clientWidth - odiv.offsetWidth)){
                        lx = document.documentElement.clientWidth - odiv.offsetWidth;
                    }

                    if(ly < 0){
                        ly= 0
                    }else if(ly >(document.documentElement.clientHeight- odiv.offsetHeight)){
                        ly =document.documentElement.clientHeight- odiv.offsetHeights
                    }


                    odiv.style.left =  lx + 'px';
                    odiv.style.top = ly + 'px';

                }

                document.onmouseup = function () {
                    document.onmousemove = null;
                    document.onmousemove = null;
                }
                  return false;     //  取消默认事件

            }
        }


    </script>
</head>
<body>
<div id="div1"></div>
</body>
</html>